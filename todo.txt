New Changes 2/5/2015
====================

Post phone call:
	DONE: Correct BST date on CSV
	DONE: Made sure time is correct
	DONE: Added spaces to columns, so no wierd wrapping effects
	DONE: Updates removal of new lines, so all entries appear to transfer
	DONE: Added auto date sort

DONE: Fix dates - all 1 month behind
DONE: Delete price symbol on CVS
Make generation of spreadsheets per month/year
	View
		DONE:Copy HTML & CSS from preferences page
		DONE:Write form
		Create JS for date/month/year picker
		Create JS to show relevant parts of form

		Create more intelligent way of selecting month/year

	Controller
		DONE: Create controller function to render the form
		Change download controller function to POST & accept details such as:
			YEARLY/MONTHLY
			Start month / end month
			Start year / end year
		DONE:Find out how to create a query object to pass to the query. Could just use json?
			((ANSWER: If you don't pass a callback to the find, a query object is returned which can be executed later. In fact, that is already happening in some of my code. So, could build up a query depending on relevant results, and then populate the selected one, and exec))
		Modify function to make query based on start/end time
	
		TEST: Added form submission code to overview.controller.js.cvs

	Routing
		DONE: Add route for cvs options page
		DONE: Add route for cvs options submission vvv
		Tidy up extranious/obsolete routes
	
	Add link to relevant page


Create online backup DONE
Figure out backup options

Find / collate passwords & usernames for various things

Give estimate on hours




New Changes
===========
Add client invoice details field
	html
	Update form		x

	Javascript
		Create variable for element
		form population/clearing: createDialog()
		Add element to complete jquery list
		Attach validator if neccesary
		Update model submission: addCustomEventInfo()

	Update model
		Add default for backwards compatibility
	Update CVS rows



#===Front end=================
Connection lost - Don't delete events from screen
-------------------------------------------------
Change refetchupdates() so that it doesn't have to refetch the updates, just modify the ones being modified
A.k.a. update events color manually - Just color I think
Switch to fulcallendar.updateEvent()

Connection lost - continuously retry to connect
-----------------------------------------------
Perhaps try to reconnect several times, after a delay, and if it doesn't work after say 5 times, then display an error message
DONE: Display a message explaining connection lost

Refresh
-------
Remove the need to refetch every time there is an update?
Mostly just fix colors

Tidy javascript file
---------------------
Create functions to manipulate dates

Form UI  (very optional)
-------
(Do I need all this? I've got form validation)
	Make it impossible to select an end date before the start date
	Make end date automatically update to startdate when start > end
	Same with time:
		Make it imposible to select an end time before the start time
		Make end time automatically update when start > end
		(Triggered when: times changed, days changed to line up)

No double bookings (maybe better without)
------------------
	-front end.. flag?
	..Events don't overlap (Can i get calendar to do this for me?)

Add month selection calendar
----------------------------
On the top panel

#=========Back end===========
CVS Dates
---------
Find more complete solution for rendering correct dates for CVS in overview.control.js, probably by importing and using moment

+Keep user logged in on database
--------------------------------
Find new passport strategy

Queries
-------
Use the queries generated by the calendar for fetching


Preferences
----------
  DONE: create preferences page
  Add:
  	Room costs
	Charge types
	Admin/overview options

Create new mvc for:
------------------
	Client
	Admin

(?)_resources
-------------
rename _resources to dbResources, to make easier to comprehend.. 

#========Style==================
Provisional payments / confirmed bookings show up as major elements

+Get rid of coloured columns when a different day is selected
models/booking.js has some info about virtuals with colour info

Top bar for all pages
Resize jquery and calendar on browser resize
Style calendar

Change white room from grey to white
Style popup window
Sort out/tidy up css classes

#=======Server===================
+Heroku
------
Upload app onto heroku and make sure it works

+Resource path
-------------
Post onto SO about bug where resources address changes

Javascript/Bower
----------------
Make sure all javascript and bower will work in the correct directories

#==========Internal=============
Find the way to execute mongo commands from command line (or python) - to auto-populate
Make the python tool more generic

#==========Big essential features=========
Sync With Quickbooks
Sync With Charts / Graphs
Backup
	Possibly sync with google drive, or similar service

#(-More optional-)
Client interface for web
Export CSV - find out how difficult

#========Optional Features===============
Put in hourly rate, for rooms. This will be suggested as a value, but not directly saved
Change provisional checkbox to enum thing
Document javascript front end file
User types: admin/ normal
